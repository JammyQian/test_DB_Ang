!function(o){o.module("DouBanMoive",["DouBanMoive_home","movie_details","moive_in_theaters"]).controller("searchControl",["$scope","$window",function(o,e){o.getMoive=function(){e.location.hash="#/search?q="+o.keyword}}])}(angular),function(o){var e=o.module("movie_details",["ngRoute","jsonp"]);e.config(["$routeProvider",function(o){o.when("/details/:id",{templateUrl:"./details/details.html",controller:"detailsControl"})}]),e.controller("detailsControl",["$scope","$jsonp","$routeParams",function(o,e,n){console.log(n.id),e({url:"http://api.douban.com/v2/movie/subject/"+n.id,params:{},method:"jsonp",callback:function(e){console.log(e),o.details=e,o.$apply()}})}])}(angular),function(o){var e=o.module("moive_coming_soon",["ngRoute","jsonp"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/coming_soon/:page?",{templateUrl:"./coming_soon/coming_soon.html",controller:"jsonp"})}]),e.controller("jsonp",["$jsonp","$scope","$routeParams","$route","$window",function(o,e,n,t,a){e.pageIndex=+(n.page||"1"),e.pageSize=10,o({url:"http://api.douban.com/v2/movie/coming_soon",params:{count:e.pageSize,start:(e.pageIndex-1)*e.pageSize},method:"jsonp",callback:function(o){e.list=o,e.isShow=!1,e.pageCount=a.Math.ceil(o.total/e.pageSize),e.$apply()}}),e.getPage=function(o){o<1||o>e.pageCount||t.updateParams({page:o})}}])}(angular),function(o){var e=o.module("DouBanMoive_home",["ngRoute"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/home",{templateUrl:"./home/home.html"}).when("/",{redirectTo:"/home"})}])}(angular),function(o){var e=o.module("moive_in_theaters",["ngRoute","jsonp"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/:moivetype/:page?/:q?",{templateUrl:"./in_theaters/in_theaters.html",controller:"jsonp"})}]),e.controller("jsonp",["$jsonp","$scope","$routeParams","$route","$window",function(o,e,n,t,a){e.pageIndex=+(n.page||"1"),e.pageSize=10,o({url:"http://api.douban.com/v2/movie/"+n.moivetype,params:{count:e.pageSize,start:(e.pageIndex-1)*e.pageSize,q:n.q},method:"jsonp",callback:function(o){e.list=o,e.isShow=!1,e.pageCount=a.Math.ceil(o.total/e.pageSize),e.$apply()}}),e.getPage=function(o){o<1||o>e.pageCount||t.updateParams({page:o})}}])}(angular),function(o){var e=o.module("jsonp",[]),n=1;e.factory("$jsonp",["$window",function(o){return function(e){var t=e.url+"?";for(var a in e.params)t+=a+"="+e.params[a]+"&";var i="myCallback"+n++;o[i]=e.callback,t+="callback="+i;var r=o.document.createElement("script");r.src=t,o.document.body.appendChild(r)}}]),e.directive("clickActive",function(){return{restrict:"A",link:function(o,e,n){e.on("click",function(){e.parent().children().removeClass("active"),e.addClass("active")})}}})}(angular),function(o){var e=o.module("moive_top250",["ngRoute","jsonp"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/top250/:page?",{templateUrl:"./top250/top250.html",controller:"jsonp"})}]),e.controller("jsonp",["$jsonp","$scope","$routeParams","$route","$window",function(o,e,n,t,a){e.pageIndex=+(n.page||"1"),e.pageSize=10,o({url:"http://api.douban.com/v2/movie/top250",params:{count:e.pageSize,start:(e.pageIndex-1)*e.pageSize},method:"jsonp",callback:function(o){e.list=o,e.isShow=!1,e.pageCount=a.Math.ceil(o.total/e.pageSize),e.$apply()}}),e.getPage=function(o){o<1||o>e.pageCount||t.updateParams({page:o})}}])}(angular);